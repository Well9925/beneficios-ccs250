<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Benef√≠cios Ativados | CCS Telecom</title>
  <style>
    :root{
      --accent: #ffffff;
      --accent-contrast: #111;
      --accent-glow-1: rgba(255,255,255,.6);
      --accent-glow-2: rgba(255,255,255,.4);

      /* Gradientes base */
      --blue-a: #2F80FF;
      --blue-b: #00D9FF;
      --violet-a: #7B61FF;

      /* Popover e UI */
      --popover-bg: #101010;
      --popover-border: rgba(255,255,255,.14);
      --popover-shadow: rgba(0,0,0,.55);

      /* N√≠veis */
      --pill-1-a: var(--blue-a);
      --pill-1-b: var(--blue-b);
      --pill-2-a: var(--violet-a);
      --pill-2-b: var(--blue-a);
      --pill-3-a: var(--blue-b);
      --pill-3-b: #00FFC6;
    }

    html { scroll-behavior: smooth; }
    body { margin: 0; font-family: 'Segoe UI', system-ui, -apple-system, Roboto, Arial, sans-serif; background: #0f0f0f; color: #fff; overflow-x: hidden; padding-bottom: 72px; }
    body.no-scroll { overflow: hidden; }

    /* T√çTULO FIXO (sticky) */
    .sticky-title {
      position: sticky; top: 0; z-index: 3200;
      background: rgba(10,10,10,0.65);
      backdrop-filter: blur(6px);
      border-bottom: 1px solid rgba(255,255,255,.12);
      padding: 10px 12px 12px;
      text-align: center;
      transition: box-shadow .2s ease, background .2s ease, border-color .2s ease;
    }
    .sticky-title.elevated {
      background: rgba(10,10,10,0.72);
      box-shadow: 0 6px 18px rgba(0,0,0,0.35);
      border-color: rgba(255,255,255,.16);
    }
    .sticky-title h1 {
      margin: 0;
      font-size: 28px;
      font-weight: 900;
      letter-spacing: .3px;
      display: inline-flex; align-items: center; gap: 10px;
    }

    /* Grupo segmentado (conex√£o visual entre N√≠vel e Plano) */
    .seg-group {
      display: inline-flex; align-items: center; gap: 0;
      border-radius: 9999px; overflow: hidden; position: relative;
      padding: 2px;
      background: linear-gradient(90deg, rgba(47,128,255,.3), rgba(232,238,252,.65));
      border: 1px solid rgba(255,255,255,.22);
      box-shadow: 0 0 12px rgba(47,128,255,.22), inset 0 0 6px rgba(255,255,255,.10);
      isolation: isolate;
    }
    .seg-item {
      display:inline-flex; align-items:center; justify-content:center;
      height: 26px; padding: 0 12px;
      font-size: 12.5px; font-weight: 900; letter-spacing:.35px; white-space:nowrap;
      border-radius: 9999px; border: 0; outline: 0;
    }
    .seg-item.level {
      color:#fff; cursor:pointer;
      background: linear-gradient(90deg, var(--pill-1-a), var(--pill-1-b));
      box-shadow: inset 0 0 6px rgba(255,255,255,.12);
    }
    .seg-item.level:hover { filter: brightness(1.06) saturate(1.08); }
    .seg-item.plan { color:#0b0b0b; background: #e8eefc; }
    .seg-sep {
      width:1px; height: 18px; background: rgba(0,0,0,.18);
      margin: 0 2px; border-radius: 1px; opacity:.75;
    }

    /* varia√ß√£o menor para popover */
    .seg-group.sm { padding: 2px; }
    .seg-group.sm .seg-item { height: 24px; padding: 0 10px; font-size: 12px; }
    .seg-item.current {
      color:#0b0b0b;
      background: linear-gradient(90deg,#00FFC6,#00D9FF);
      box-shadow: inset 0 0 6px rgba(255,255,255,.14), 0 0 10px rgba(0,217,255,.25);
    }

    .sticky-title p {
      margin: 6px 0 0;
      font-size: 15px; opacity: .92;
    }
    @media (max-width:600px){
      .sticky-title h1 { font-size: 22px; }
      .seg-item { height: 24px; padding: 0 10px; font-size: 11.5px; }
      .sticky-title p { font-size: 13px; }
    }

    /* Ajuste de √¢ncora para n√£o ficar atr√°s do t√≠tulo sticky */
    section, .container, .benefit-card { scroll-margin-top: 96px; }

    /* MENU INFERIOR */
    nav.menu-bottom { width: 100vw; background: #181818e6; position: fixed; left:0; bottom:0; z-index: 5001; box-shadow: 0 -2px 10px rgba(0,0,0,0.18); border-top: 1px solid #222; backdrop-filter: blur(6px); transition: opacity .3s ease; padding-bottom: env(safe-area-inset-bottom, 0); }
    nav.menu-bottom.oculto { display: none; }
    nav.menu-bottom ul { display:flex; justify-content:center; align-items:center; gap:0; margin:0; padding:0; list-style:none; }
    nav.menu-bottom li { margin: 0 8px; }
    nav.menu-bottom a { color:#fff; text-decoration:none; display:block; padding:14px 18px 12px; font-weight:700; letter-spacing:.3px; font-size:16px; border-radius:0 0 12px 12px; transition: background .2s, color .2s, box-shadow .25s; box-shadow: 0 0 10px 2px rgba(255,255,255,0.25), inset 0 0 4px rgba(255,255,255,0.15); }
    nav.menu-bottom a:hover, nav.menu-bottom a.active { background:#ffffff22; color:#fff; box-shadow:0 0 18px 4px rgba(255,255,255,0.45), inset 0 0 6px rgba(255,255,255,0.2); }
    @media (max-width:600px){ nav.menu-bottom ul{flex-wrap:wrap;} nav.menu-bottom a{font-size:15px; padding:10px 10px 8px;} }

    /* BOT√ÉO TOPO */
    #btnTopo { position: fixed; right:22px; bottom:92px; width:54px; height:54px; border-radius:50%; border:1px solid rgba(255,255,255,0.35); background:rgba(255,255,255,0.12); color:#fff; font-size:24px; font-weight:800; cursor:pointer; z-index:6000; backdrop-filter: blur(8px); opacity:0; pointer-events:none; transition: opacity .3s, transform .2s, background .2s, box-shadow .2s; display:flex; align-items:center; justify-content:center; box-shadow: 0 0 14px 4px rgba(255,255,255,0.35), inset 0 0 6px rgba(255,255,255,0.18); }
    #btnTopo.visivel{ opacity:1; pointer-events:auto; }
    #btnTopo:hover{ background:rgba(255,255,255,0.2); transform: translateY(-2px); }
    @media (max-width:600px){ #btnTopo{ width:44px; height:44px; font-size:20px; right:10px; bottom:62px; } }

    /* OVERLAY BOAS-VINDAS */
    #welcome-overlay { position: fixed; inset:0; background: radial-gradient(1200px 1200px at 50% 10%, rgba(10,88,255,.25), transparent 40%), rgba(0,0,0,0.86); display:flex; justify-content:center; align-items:center; flex-direction:column; z-index:4000; transition: opacity 0.8s ease; text-align:center; backdrop-filter: blur(8px); }
    #particles { position:absolute; inset:0; z-index:3998; pointer-events:none; }
    #spotlight { position:absolute; inset:0; background: radial-gradient(circle 240px at center, rgba(10,88,255,0.34), transparent 80%); pointer-events:none; transition: background-position .1s; z-index:3999; }

    #welcome-text { font-size:42px; margin-bottom:20px; min-height:30px; font-weight:900; background: linear-gradient(90deg, #ffffff, #0A58FF, #00D9FF, #ffffff); background-size:240% auto; -webkit-background-clip:text; -webkit-text-fill-color:transparent; animation: gradientMove 3s linear infinite, glowFilterPulse 2.1s ease-in-out infinite; display:inline-block; overflow:hidden; border-right:2px solid rgba(255,255,255,.9); -webkit-text-stroke: .6px rgba(255,255,255,.28); filter: drop-shadow(0 0 8px rgba(10,88,255,.85)) drop-shadow(0 0 22px rgba(0,217,255,.72)); position:relative; z-index:4001; max-width:90%; white-space:nowrap; letter-spacing:.4px; }
    @keyframes gradientMove { to{ background-position: 240% center; } }
    @keyframes glowFilterPulse { 0%,100%{ filter: drop-shadow(0 0 8px rgba(10,88,255,.85)) drop-shadow(0 0 22px rgba(0,217,255,.72)); } 50%{ filter: drop-shadow(0 0 14px rgba(10,88,255,.85)) drop-shadow(0 0 34px rgba(0,217,255,.72)); } }

    #start-btn { color:#111; border:1px solid rgba(255,255,255,.3); padding:12px 18px; border-radius:10px; font-weight:900; letter-spacing:.35px; cursor:pointer; font-size:14px; display:inline-block; background:#fff; transition: transform .2s, box-shadow .25s, filter .25s; position:relative; z-index:4001; }
    #start-btn:hover{ transform: translateY(-2px); box-shadow: 0 8px 22px rgba(0,0,0,.35); }

    /* CANVAS DE FUNDO */
    canvas#fireworks, canvas#lights { position: fixed; top:0; left:0; width:100vw; height:100vh; pointer-events:none; z-index:1500; }

    /* CONTE√öDO */
    .container { max-width: 1000px; margin: 20px auto 40px; padding: 0 20px; }
    .benefit-card { background: rgba(255,255,255,0.05); padding: 30px; border-radius: 16px; box-shadow: 0 2px 10px rgba(255,255,255,0.1); margin-bottom: 30px; opacity:0; transform: translateY(30px) scale(0.95); transition: all .8s ease; position: relative; }
    .benefit-card.show { opacity:1; transform: translateY(0) scale(1); }
    .benefit-card:hover { transform: scale(1.03); box-shadow: 0 4px 20px rgba(0,0,0,.5); }
    .benefit-title { font-size: 22px; font-weight: 800; margin-bottom: 10px; display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
    .benefit-subtitle { font-size: 16px; margin-bottom: 15px; color: #ccc; }

    .badge { display:inline-block; font-size:12px; padding:6px 10px; border-radius:10px; background: rgba(255,255,255,0.10); border:1px solid rgba(255,255,255,0.25); }
    .level-badge { cursor:pointer; font-weight:800; letter-spacing:.4px; color:#fff; background: linear-gradient(90deg, var(--pill-1-a), var(--pill-1-b)); border: 1px solid rgba(255,255,255,.25); box-shadow: 0 0 10px rgba(47,128,255,.25), inset 0 0 6px rgba(255,255,255,.12); }
    .level-badge:hover{ filter:brightness(1.06) saturate(1.08); }

    .quote { background: rgba(255,255,255,0.04); border-left: 3px solid var(--accent); padding: 10px 12px; border-radius: 8px; margin: 6px 0 12px 0; color:#eaeaea; }
    .bullets { margin: 10px 0 6px 18px; }
    .bullets li { margin:4px 0; }

    /* Aviso N√≠vel 3 ‚Äì sem tra√ßo, com tooltip (i) */
    .disclaimer { font-size:13px; color:#cfcfcf; opacity:.95; margin-top:8px; position: relative; }
    .disclaimer-lev3 { background: rgba(255,255,255,0.06); border: 1px dashed rgba(255,255,255,.18); padding: 10px 12px; border-radius: 10px; display:flex; align-items:center; gap:8px; flex-wrap: wrap; }
    .chip { display:inline-block; padding: 3px 10px; border-radius: 999px; font-size: 11px; font-weight: 900; letter-spacing: .4px; text-transform: uppercase; color:#fff; background: linear-gradient(90deg, var(--pill-3-a), var(--pill-3-b)); border: 1px solid rgba(255,255,255,.35); text-shadow: 0 1px 1px rgba(0,0,0,.35); -webkit-text-stroke:.2px rgba(0,0,0,.25); box-shadow: 0 0 10px rgba(0,217,255,.25), inset 0 0 6px rgba(255,255,255,.14); }

    .tip-btn{
      width:20px; height:20px; border-radius:50%; border:1px solid rgba(255,255,255,.25);
      background: rgba(255,255,255,.08); color:#fff; font-size:12px; font-weight:900; line-height:18px; text-align:center; cursor:pointer;
    }
    .tip-btn:hover{ background: rgba(255,255,255,.14); }
    .tip-bubble{
      position:absolute; bottom: calc(100% + 8px); left: 12px; max-width: 280px;
      background:#0f0f0f; color:#eaeaea; border:1px solid rgba(255,255,255,.18);
      padding:8px 10px; border-radius:8px; font-size:12px; box-shadow: 0 8px 18px rgba(0,0,0,.45);
      opacity:0; transform: translateY(4px); pointer-events:none; transition: opacity .18s ease, transform .18s ease;
    }
    .disclaimer.tip-open .tip-bubble, .tip-btn[aria-expanded="true"] + .tip-bubble{
      opacity:1; transform: translateY(0); pointer-events:auto;
    }

    /* Acorde√£o "Como funciona" */
    details.howto {
      margin-top: 10px; background: rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.14); border-radius:10px; padding:8px 10px;
    }
    details.howto summary { cursor:pointer; list-style:none; font-weight:800; letter-spacing:.3px; }
    details.howto summary::-webkit-details-marker { display:none; }
    details.howto[open] { background: rgba(255,255,255,.07); }

    .email-actions { display:flex; flex-wrap:wrap; gap:10px; margin-top:12px; }
    .copy-link { background:transparent; color:#fff; border:1px solid rgba(255,255,255,.25); padding:10px 16px; border-radius:6px; cursor:pointer; transition:.25s; box-shadow:none; }
    .copy-link:hover { background:rgba(255,255,255,.08); }
    .copy-link.copied { border-color: var(--accent); box-shadow: 0 0 10px var(--accent-glow-2); }
    .app-link { display:inline-block; margin-top:10px; padding:10px 20px; background:#fff; color:#111; border-radius:6px; text-decoration:none; transition:.3s; }
    .app-link:hover{ background: var(--accent); color: var(--accent-contrast); box-shadow: 0 0 14px 4px var(--accent-glow-2); }

    /* POPUP N√çVEIS */
    .level-popover { position: fixed; min-width:280px; max-width:92vw; background: var(--popover-bg); border:1px solid var(--popover-border); border-radius:12px; padding:14px 14px 12px; box-shadow: 0 16px 36px var(--popover-shadow), 0 0 18px rgba(47,128,255,.12); z-index:5002; opacity:0; transform: translateY(-6px) scale(.98); pointer-events:none; transition: opacity .18s ease, transform .18s ease; }
    .level-popover.open{ opacity:1; transform: translateY(0) scale(1); pointer-events:auto; }
    .level-popover h4{ margin:0 0 6px 0; font-size:14px; letter-spacing:.4px; color:#f4f4f4; }
    .level-list{ list-style:none; margin:0; padding:0; }
    .level-list li{ display:flex; align-items:center; gap:10px; padding:8px 6px; border-radius:8px; flex-wrap:wrap; }
    .pill{ flex:none; padding:4px 10px; font-size:11px; font-weight:900; color:#0b0b0b; border-radius:999px; letter-spacing:.4px; border:1px solid rgba(255,255,255,.25); }
    .l2{ background: linear-gradient(90deg, var(--pill-2-a), var(--pill-2-b)); }
    .l3{ background: linear-gradient(90deg, var(--pill-3-a), var(--pill-3-b)); }
    .lvl-desc{ color:#eaeaea; font-size:13px; }
    .lvl-note{ color:#cfefff; font-size:12px; opacity:.9; }
    .level-actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }
    .level-actions .btn{ display:inline-block; padding:8px 12px; border-radius:10px; font-weight:800; font-size:13px; letter-spacing:.3px; color:#fff; text-decoration:none; border:1px solid rgba(255,255,255,.25); box-shadow: 0 0 10px rgba(255,255,255,.08), inset 0 0 6px rgba(255,255,255,.12); transition: transform .15s, filter .2s, box-shadow .2s; }
    .level-actions .btn:hover{ transform: translateY(-1px); filter: brightness(1.06) saturate(1.08); box-shadow: 0 8px 18px rgba(0,0,0,.35), 0 0 14px rgba(255,255,255,.12); }
    .to-l2{ background: linear-gradient(90deg, var(--pill-2-a), var(--pill-2-b)); }
    .to-l3{ background: linear-gradient(90deg, var(--pill-3-a), var(--pill-3-b)); }

    /* INDICHE & GANHE ‚Äì skin azul */
    #indique.indique{
      background: linear-gradient(160deg, #0b4bff 0%, #6f2bff 100%);
      color:#fff; padding: 40px 20px; text-align: center;
      border-radius: 20px; margin: 40px auto; max-width: 1000px;
      box-shadow: 0 10px 30px rgba(0,0,0,.35), 0 0 24px rgba(111,43,255,.25);
      position: relative; overflow: hidden;
      opacity:0; transform: translateY(30px) scale(0.95); transition: all .8s ease;
    }
    #indique.indique.show{ opacity:1; transform: translateY(0) scale(1); }
    #indique.indique .toggle-details{
      margin-top: 12px; background: transparent; color: #fff;
      border: 1px solid rgba(255,255,255,.25); padding: 8px 12px; border-radius: 10px; cursor: pointer; transition: .25s;
    }

    .aviso { background:#222; padding:20px; border-left:4px solid var(--accent); margin:40px auto; max-width:1000px; border-radius:12px; }
    #finalizacao { text-align:center; padding:40px 20px; margin-top:40px; }
    #finalizacao h3 { font-size:24px; margin-bottom:10px; }
    #finalizacao .stars { font-size:20px; color:var(--accent); animation: twinkle 2s infinite; }
    @keyframes twinkle { 0%,100%{opacity:.4;} 50%{opacity:1;} }
    footer { background:#111; text-align:center; padding:20px; margin-top:60px; }
  </style>
</head>
<body>
  <canvas id="fireworks"></canvas>
  <canvas id="lights"></canvas>

  <!-- T√≠tulo fixo com grupo segmentado -->
  <div class="sticky-title" id="stickyTitle">
    <h1>
      Benef√≠cios
      <span class="seg-group" role="group" aria-label="N√≠vel e plano">
        <button class="seg-item level" id="topLevelBadge" type="button"
                aria-haspopup="dialog" aria-expanded="false" aria-controls="levelPopover"
                title="Clique para ver os n√≠veis">
          N√≠vel 1
        </button>
        <span class="seg-sep" aria-hidden="true"></span>
        <span class="seg-item plan" aria-label="Plano 250MB">Plano 250MB</span>
      </span>
    </h1>
    <p>Confira todos os benef√≠cios do seu plano</p>
  </div>

  <!-- Overlay de boas-vindas -->
  <div id="welcome-overlay">
    <canvas id="particles"></canvas>
    <div id="spotlight"></div>
    <h2 id="welcome-text"></h2>
    <button id="start-btn">Liberar benef√≠cios agora üîì</button>
  </div>

  <div id="beneficios" class="container">
    <!-- CONECTA CLUBE -->
    <div class="benefit-card" id="conecta-clube">
      <div class="benefit-title">
        üéüÔ∏è CONECTA CLUBE
        <button class="badge level-badge" id="levelBadge" type="button"
                aria-haspopup="dialog" aria-expanded="false" aria-controls="levelPopover"
                title="Clique para ver os n√≠veis">
          N√≠vel 1
        </button>
      </div>
      <div class="benefit-subtitle">Clube de Vantagens CCS</div>

      <div class="quote">
        √â o nosso clube de benef√≠cios com diversas empresas parceiras da regi√£o! üåü<br/>
        Voc√™ pode ganhar vouchers exclusivos de acordo com o seu plano, e quem escolhe √© voc√™!
      </div>

      <p><strong>Quer saber qual benef√≠cio est√° dispon√≠vel no seu plano?</strong><br/>
      Mande um e-mail para: <a class="inline-email" href="mailto:ccs@ccstelecom.com.br">ccs@ccstelecom.com.br</a> üì©</p>

      <ul class="bullets">
        <li>Receba 1 voucher de benef√≠cio a cada 90 dias.</li>
      </ul>

      <!-- Acorde√£o "Como funciona" -->
      <details class="howto">
        <summary>Como funciona</summary>
        <ul class="bullets">
          <li>Escolha um parceiro participante.</li>
          <li>Receba seu voucher digital do Conecta Clube.</li>
          <li>Use no estabelecimento dentro do prazo indicado.</li>
        </ul>
      </details>

      <!-- Aviso claro com tooltip e sem tra√ßo -->
      <p class="disclaimer disclaimer-lev3" id="premiumNotice">
        <button class="tip-btn" id="tipBtn" aria-expanded="false" aria-controls="tipPremium">i</button>
        <span class="tip-bubble" id="tipPremium" role="tooltip">Atra√ß√µes com custo elevado e alta demanda; por isso s√£o liberadas no N√≠vel 3.</span>
        Atra√ß√µes premium n√£o inclu√≠das neste n√≠vel: Unipraias, Barco Pirata, Roda Gigante e Aqu√°rio.
        <span class="chip" aria-label="Dispon√≠vel somente no N√≠vel 3">Somente N√≠vel 3</span>
      </p>

      <div class="email-actions">
        <a class="app-link" id="emailBtn" href="mailto:ccs@ccstelecom.com.br?subject=Conecta%20Clube%20-%20Benef%C3%ADcio%20do%20meu%20plano&body=Ol%C3%A1%20CCS%20Telecom%2C%0A%0AGostaria%20de%20saber%20qual%20benef%C3%ADcio%20est%C3%A1%20dispon%C3%ADvel%20no%20meu%20plano.%0A%0ANome%3A%20%0AContrato%2FCPF%3A%20%0ACidade%3A%20%0A%0AObrigado!">üì© Enviar e-mail agora</a>
        <button class="copy-link" id="copyEmail" type="button">üìã Copiar e-mail</button>
      </div>

      <!-- Popover n√≠veis -->
      <div class="level-popover" id="levelPopover" role="dialog" aria-modal="false" aria-labelledby="levelsTitle">
        <button class="popover-close" id="popoverClose" aria-label="Fechar">√ó</button>
        <h4 id="levelsTitle">Conhe√ßa os n√≠veis</h4>

        <!-- Grupo segmentado unificado (sem repeti√ß√£o abaixo) -->
        <div class="seg-group sm" aria-label="Dados do seu plano e n√≠vel">
          <span class="seg-item level" aria-hidden="true">N√≠vel 1</span>
          <span class="seg-sep" aria-hidden="true"></span>
          <span class="seg-item plan">Plano 250MB</span>
          <span class="seg-sep" aria-hidden="true"></span>
          <span class="seg-item current" title="Este √© o seu n√≠vel atual" aria-label="Seu n√≠vel atual">Atual ‚úì</span>
        </div>

        <ul class="level-list" style="margin-top:6px">
          <li>
            <span class="pill l2">N√≠vel 2</span>
            <span class="lvl-desc">Planos: 450MB</span>
          </li>
          <li>
            <span class="pill l3">N√≠vel 3</span>
            <span class="lvl-desc">Planos: 650MB</span>
          </li>
        </ul>
        <div class="lvl-note" style="margin-top:8px;">Atra√ß√µes premium est√£o no N√≠vel 3.</div>

        <div class="level-actions" aria-label="A√ß√µes de upgrade">
          <a id="ctaL2" class="btn to-l2" target="_blank" rel="noopener"
             aria-label="Quero migrar para o N√≠vel 2 (450MB) pelo WhatsApp"
             href="https://wa.me/554797701300?text=Ol%C3%A1%20CCS%20Telecom%2C%20quero%20migrar%20para%20o%20N%C3%ADvel%202%20(Plano%20450MB).%20Meu%20nome%3A%20%5Bpreencha%5D%20%7C%20CPF%2FContrato%3A%20%5Bpreencha%5D%20%7C%20Cidade%3A%20%5Bpreencha%5D">
            Quero N√≠vel 2
          </a>
          <a id="ctaL3" class="btn to-l3" target="_blank" rel="noopener"
             aria-label="Quero migrar para o N√≠vel 3 (650MB) pelo WhatsApp"
             href="https://wa.me/554797701300?text=Ol%C3%A1%20CCS%20Telecom%2C%20quero%20migrar%20para%20o%20N%C3%ADvel%203%20(Plano%20650MB).%20Meu%20nome%3A%20%5Bpreencha%5D%20%7C%20CPF%2FContrato%3A%20%5Bpreencha%5D%20%7C%20Cidade%3A%20%5Bpreencha%5D">
            Quero N√≠vel 3
          </a>
        </div>
      </div>
    </div>

    <!-- Demais cards -->
    <div class="benefit-card" id="ccs-play"><div class="benefit-title">üé¨ CCS PLAY</div><div class="benefit-subtitle">Streaming com mais de 60 canais</div><p>Inclui SBT, Record e canais regionais (Rede Globo n√£o est√° inclu√≠da).</p><a class="app-link" href="https://onelink.to/ccsplay" target="_blank">Acessar CCS PLAY</a></div>
    <div class="benefit-card" id="skeelo"><div class="benefit-title">üìö SKEELO</div><div class="benefit-subtitle">Livros Digitais, Audiobooks e Minibooks</div><a class="app-link" href="https://onelink.to/hseuht" target="_blank">Acessar SKEELO</a></div>
    <div class="benefit-card"><div class="benefit-title">üÜò SUPORTE PREMIUM</div><div class="benefit-subtitle">Atendimento priorit√°rio</div><p>Prazo at√© 36h √∫teis + 1 visita t√©cnica gratuita por ano.</p></div>
  </div>

  <!-- Indique & Ganhe (skin azul) -->
  <section id="indique" class="indique">
    <h2>üéØ Indique & Ganhe</h2>
    <p>Ganhe at√© <strong>100% de desconto</strong> na sua pr√≥xima fatura indicando amigos!</p>
    <div class="indique-cards">
      <div class="card">
        <h3>ü•â 250MB</h3>
        <strong>R$30 de desconto</strong>
        <button class="toggle-details">Ver detalhes</button>
        <div class="details">
          <ul>
            <li>Desconto aplicado ap√≥s instala√ß√£o.</li>
            <li>B√¥nus extra se contratar em at√© 72h.</li>
          </ul>
        </div>
      </div>
      <div class="card">
        <h3>ü•à 450MB</h3>
        <strong>R$50 de desconto</strong>
        <button class="toggle-details">Ver detalhes</button>
        <div class="details">
          <ul>
            <li>Desconto no pr√≥ximo ciclo.</li>
            <li>V√°lido para titular adimplente.</li>
          </ul>
        </div>
      </div>
      <div class="card">
        <h3>ü•á 650MB</h3>
        <strong>Mensalidade ISENTA</strong>
        <button class="toggle-details">Ver detalhes</button>
        <div class="details">
          <ul>
            <li>Isen√ß√£o ap√≥s ativa√ß√£o confirmada.</li>
            <li>1 isen√ß√£o por indica√ß√£o.</li>
          </ul>
        </div>
      </div>
    </div>
    <p class="bonus">üèÜ Se o indicado contratar em at√© 72h, voc√™ ainda ganha <strong>+R$20</strong> de b√¥nus!</p>
    <a href="https://wa.me/554797701300" class="app-link">üì≤ Indicar agora</a>
  </section>

  <section id="portais" class="container">
    <div class="benefit-card"><div class="benefit-title">üåê Portal do Assinante</div><ul><li>üí† Pagamentos PIX/Cart√£o</li><li>üßæ 2¬™ via faturas</li><li>üîì Desbloqueio confian√ßa</li><li>üìä Extrato conex√£o</li></ul><a class="app-link" href="https://bit.ly/CCS_APP" target="_blank">Acessar CCS TELECOM</a></div>
    <div class="benefit-card"><div class="benefit-title">üßæ Portal de Faturas</div><p>Acesse sem login:</p><a class="app-link" href="https://ccs.pix.7az.com.br/" target="_blank">Acessar faturas</a></div>
  </section>

  <div class="aviso">‚ö†Ô∏è Seus benef√≠cios estar√£o dispon√≠veis em at√© 72h √∫teis ap√≥s a instala√ß√£o.</div>

  <section id="finalizacao">
    <h3>üíô Obrigado por fazer parte da fam√≠lia CCS Telecom</h3>
    <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
    <p>Conte com a gente sempre üöÄ</p>
    <a href="https://wa.me/554797701300" class="app-link">üì≤ Falar com Suporte</a>
    <br/><br/>
    <a href="https://is.gd/CCSnota10" target="_blank" class="app-link">‚≠ê Avalie-nos no Google</a>
  </section>

  <footer>¬© 2025 CCS Telecom ‚Äî Todos os direitos reservados</footer>

  <!-- MENU INFERIOR -->
  <nav class="menu-bottom oculto" id="menuInferior">
    <ul>
      <li><a href="#beneficios">Benef√≠cios</a></li>
      <li><a href="#indique">Indique &amp; Ganhe</a></li>
      <li><a href="#portais">Portais</a></li>
    </ul>
  </nav>

  <button id="btnTopo" title="Voltar ao topo" aria-label="Voltar ao topo">‚Üë</button>

  <script>
  (function(){
    if (window.__CCS_INIT__) return; window.__CCS_INIT__ = true;

    function sizeCanvasToViewport(canvas){ canvas.width = innerWidth; canvas.height = innerHeight; }

    function init(){
      const overlayEl = document.getElementById('welcome-overlay');
      const textEl = document.getElementById('welcome-text');
      const btnEl = document.getElementById('start-btn');
      const particles = document.getElementById('particles');
      const pctx = particles.getContext('2d');
      const fwCanvas = document.getElementById('fireworks');
      const fwCtx = fwCanvas.getContext('2d');
      const lightsCanvas = document.getElementById('lights');
      const lightsCtx = lightsCanvas.getContext('2d');
      const menuInferior = document.getElementById('menuInferior');
      const btnTopo = document.getElementById('btnTopo');
      const stickyTitle = document.getElementById('stickyTitle');
      const topLevelBadge = document.getElementById('topLevelBadge');
      const levelPopover = document.getElementById('levelPopover');
      const popoverClose = document.getElementById('popoverClose');
      const levelBadgeCard = document.getElementById('levelBadge');
      const initialHash = location.hash;

      // Sizing
      function resizeAll(){ sizeCanvasToViewport(particles); sizeCanvasToViewport(fwCanvas); sizeCanvasToViewport(lightsCanvas); }
      resizeAll(); addEventListener('resize', resizeAll, { passive:true });

      // Typing title
      const message="üöÄ 250 Mega com muitos benef√≠cios esperando por voc√™!";
      textEl.textContent=""; let idx=0, next=0;
      function typeLoop(ts){
        if(!next) next=ts;
        while(ts-next>=28 && idx<message.length){ textEl.textContent+=message.charAt(idx++); next+=28; }
        if(idx<message.length){ requestAnimationFrame(typeLoop); } else { textEl.style.borderRight='none'; }
      }
      requestAnimationFrame(typeLoop);

      // Spotlight move
      const spotlight = document.getElementById('spotlight');
      const moveListener = (e)=>{ const t=e.touches?e.touches[0]:e; spotlight.style.background=`radial-gradient(circle 240px at ${t.clientX}px ${t.clientY}px, rgba(10,88,255,0.34), transparent 80%)`; };
      addEventListener('mousemove', moveListener, { passive:true });
      addEventListener('touchmove', moveListener, { passive:true });

      // Stars
      function createStars(){ const arr=[]; for(let i=0;i<110;i++) arr.push({x:Math.random()*particles.width,y:Math.random()*particles.height,r:Math.random()*2+0.8,s:Math.random()*0.6+0.25}); return arr;}
      let stars=createStars(), starsRAF=0, starsActive=true;
      (function starsLoop(){ if(!starsActive) return; pctx.clearRect(0,0,particles.width,particles.height); pctx.fillStyle="rgba(255,255,255,0.9)"; for(const s of stars){ pctx.beginPath(); pctx.arc(s.x,s.y,s.r,0,Math.PI*2); pctx.fill(); s.y+=s.s; if(s.y>particles.height){ s.y=-2; s.x=Math.random()*particles.width; } } starsRAF=requestAnimationFrame(starsLoop); })();

      // Sticky shadow
      const elevate = ()=> stickyTitle.classList.toggle('elevated', scrollY > 4);
      elevate(); addEventListener('scroll', elevate, { passive:true });

      // Fireworks from title (can travel entire window)
      sizeCanvasToViewport(fwCanvas);
      function titleRect(){ const r=stickyTitle.getBoundingClientRect(); return { x:r.left+8, y:r.top+4, w:r.width-16, h:r.height-8 }; }
      let fwParticles=[]; let lastSpawn=0;
      (function fireworksLoop(ts){
        if(!lastSpawn) lastSpawn=ts;
        if(ts-lastSpawn>950){ spawnExplosionFromTitle(); lastSpawn=ts; }
        fwCtx.clearRect(0,0,fwCanvas.width,fwCanvas.height);
        fwParticles=fwParticles.filter(p=>p.alpha>0.02);
        for(const p of fwParticles){
          p.x+=p.vx; p.y+=p.vy; p.vy+=0.015; p.vx*=0.995; p.vy*=0.995; p.alpha*=0.984;
          fwCtx.globalAlpha=p.alpha; fwCtx.fillStyle=p.color;
          fwCtx.beginPath(); fwCtx.arc(p.x,p.y,p.r,0,Math.PI*2); fwCtx.fill();
        }
        fwCtx.globalAlpha=1;
        requestAnimationFrame(fireworksLoop);
      })();
      function spawnExplosionFromTitle(){
        const tr=titleRect();
        const x = tr.x + tr.w*(0.2 + Math.random()*0.6);
        const y = tr.y + tr.h*(0.4 + Math.random()*0.3);
        const colors=['#ff0043','#14fc56','#1e90ff','#ffffff','#00d9ff'];
        for(let i=0;i<44;i++){
          const ang=Math.random()*Math.PI*2, spd=2.4+Math.random()*5.6;
          fwParticles.push({ x, y, vx:Math.cos(ang)*spd, vy:Math.sin(ang)*spd - 0.6, alpha:1, color:colors[(Math.random()*colors.length)|0], r:2.4+Math.random()*1.6 });
        }
      }

      // Lights
      sizeCanvasToViewport(lightsCanvas);
      const lights=Array.from({length:60},()=>({x:Math.random()*lightsCanvas.width,y:Math.random()*lightsCanvas.height,r:1+Math.random()*2,phase:Math.random()*Math.PI*2,speed:0.6+Math.random()*1.0,vy:0.25+Math.random()*0.4}));
      (function lightsLoop(){
        lightsCtx.clearRect(0,0,lightsCanvas.width,lightsCanvas.height);
        for(const l of lights){
          l.phase+=0.02*l.speed; const a=0.25+((Math.sin(l.phase)+1)/2)*0.55;
          lightsCtx.beginPath(); lightsCtx.arc(l.x,l.y,l.r,0,Math.PI*2);
          lightsCtx.fillStyle=`rgba(255,255,255,${a})`; lightsCtx.fill();
          l.y-=l.vy; if(l.y<-5){ l.y=lightsCanvas.height+5; l.x=Math.random()*lightsCanvas.width; }
        }
        requestAnimationFrame(lightsLoop);
      })();

      // Reveal cards on view
      const revealTargets=[...document.querySelectorAll(".benefit-card, #indique.indique, #finalizacao")];
      const io=new IntersectionObserver((entries)=>{ entries.forEach(en=>{ if(en.isIntersecting) en.target.classList.add('show'); }); }, { threshold:0.12, rootMargin:"0px 0px -12% 0px" });
      revealTargets.forEach(el=>io.observe(el));
      function revealAboveFold(){
        revealTargets.forEach(el=>{ const r=el.getBoundingClientRect(); if(r.top < innerHeight*0.9) el.classList.add('show'); });
      }

      // Overlay dismiss (robusto)
      let overlayGone=false;
      function dismissOverlay(){
        if(overlayGone) return; overlayGone=true;
        overlayEl.style.opacity='0';
        starsActive=false; cancelAnimationFrame(starsRAF);
        removeEventListener('mousemove', moveListener); removeEventListener('touchmove', moveListener);
        setTimeout(()=>{
          overlayEl.remove();
          menuInferior.classList.remove('oculto');
          btnTopo.classList.add('visivel');
          revealAboveFold();
          if(initialHash){ const t=document.getElementById(initialHash.slice(1)); if(t) t.scrollIntoView({behavior:'smooth', block:'start'}); }
        },700);
      }
      btnEl.addEventListener('click', dismissOverlay);
      // Failsafes
      setTimeout(dismissOverlay, 7000); // auto
      addEventListener('scroll', ()=>{ if(!overlayGone && scrollY>10) dismissOverlay(); }, {passive:true});
      addEventListener('keydown', (e)=>{ if(!overlayGone && (e.key==='Enter' || e.key==='Escape' || e.key===' ')) dismissOverlay(); });

      // Menu ativo
      const sections=['beneficios','indique','portais'];
      const navLinks=document.querySelectorAll('nav.menu-bottom a');
      addEventListener('scroll', ()=>{
        const scrolled=scrollY+100; let current='';
        for(const id of sections){ const sec=document.getElementById(id); if(sec && sec.offsetTop<=scrolled) current=id; }
        navLinks.forEach(link=>{ link.classList.toggle('active', link.getAttribute('href').slice(1)===current); });
      }, {passive:true});

      // Topo
      btnTopo.addEventListener('click', ()=> scrollTo({ top:0, behavior:'smooth' }));

      /* ===== Popover N√≠veis ===== */
      let popOpen=false, prevFocus=null, trapHandler=null, currentTrigger=null;
      function positionPopover() {
        if(!popOpen || !currentTrigger) return;
        const rect=currentTrigger.getBoundingClientRect(), pop=levelPopover;
        const w=Math.min(340, Math.max(280, pop.offsetWidth||300)), h=pop.offsetHeight||200;
        let left=rect.left, top=rect.bottom+8;
        if(left+w>innerWidth-10) left=innerWidth-w-10; if(left<10) left=10;
        if(top+h>innerHeight-10){ top=rect.top-h-8; if(top<10) top=10; }
        pop.style.left=left+'px'; pop.style.top=top+'px'; pop.style.minWidth='280px'; pop.style.maxWidth='92vw';
      }
      function focusables(c){ return Array.from(c.querySelectorAll('a[href],button:not([disabled]),[tabindex]:not([tabindex="-1"])')).filter(el=>el.offsetParent!==null); }
      function setExpanded(el, val){ if(el) el.setAttribute('aria-expanded', String(val)); }

      function openPopover(triggerEl){
        popOpen=true; currentTrigger=triggerEl; document.body.classList.add('no-scroll');
        prevFocus=document.activeElement;
        setExpanded(levelBadgeCard, false); setExpanded(topLevelBadge, false); setExpanded(triggerEl, true);
        levelPopover.classList.add('open'); positionPopover();
        const els=focusables(levelPopover); const first=els[0]||levelPopover, last=els[els.length-1]||levelPopover;
        if(first) first.focus();
        trapHandler=(e)=>{ if(e.key!=='Tab') return; if(!els.length){ e.preventDefault(); return; }
          if(e.shiftKey && document.activeElement===first){ e.preventDefault(); last.focus(); }
          else if(!e.shiftKey && document.activeElement===last){ e.preventDefault(); first.focus(); } };
        levelPopover.addEventListener('keydown', trapHandler);
        addEventListener('scroll', positionPopover, {passive:true});
        addEventListener('resize', positionPopover, {passive:true});
      }
      function closePopover(){
        if(!popOpen) return; popOpen=false; document.body.classList.remove('no-scroll');
        setExpanded(levelBadgeCard, false); setExpanded(topLevelBadge, false);
        levelPopover.classList.remove('open'); if(trapHandler) levelPopover.removeEventListener('keydown', trapHandler);
        if(prevFocus){ try{ prevFocus.focus(); }catch{} }
        removeEventListener('scroll', positionPopover); removeEventListener('resize', positionPopover); currentTrigger=null;
      }
      [levelBadgeCard, topLevelBadge].forEach(el=>{ if(!el) return; el.addEventListener('click', (e)=>{ e.stopPropagation(); (popOpen && currentTrigger===el) ? closePopover() : openPopover(el); }); });
      addEventListener('click', (e)=>{ if(popOpen && !levelPopover.contains(e.target) && e.target!==currentTrigger) closePopover(); });
      addEventListener('keydown', (e)=>{ if(e.key==='Escape' && popOpen) closePopover(); });
      if(popoverClose) popoverClose.addEventListener('click', closePopover);

      // Toggle detalhes Indique
      document.querySelectorAll('#indique .toggle-details').forEach(b=>{
        b.addEventListener('click', e=>{
          const card=e.currentTarget.closest('.card'); card.classList.toggle('open');
          e.currentTarget.textContent = card.classList.contains('open') ? 'Ocultar detalhes' : 'Ver detalhes';
        });
      });
    }

    if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', init, {once:true}); } else { init(); }
  })();
  </script>
</body>
</html>
